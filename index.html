<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RD Media Manager</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-logo">
          <span class="logo-icon">‚ö°Ô∏è</span>
          <span>RD Media Manager</span>
        </div>
        <nav class="sidebar-nav">
          <ul>
            <li>
              <a href="#" data-nav-to="management"
                ><span class="icon">üóÇÔ∏è</span> Gerenciamento</a
              >
            </li>
            <li>
              <a href="#" data-nav-to="series"
                ><span class="icon">üì∫</span> S√©ries</a
              >
            </li>
            <li>
              <a href="#" data-nav-to="movies"
                ><span class="icon">üé¨</span> Filmes</a
              >
            </li>
            <li>
              <a href="#" data-nav-to="cleanup"
                ><span class="icon">üßπ</span> Limpeza</a
              >
            </li>
            <li>
              <a href="#" data-nav-to="settings"
                ><span class="icon">‚öôÔ∏è</span> Configura√ß√µes</a
              >
            </li>
          </ul>
        </nav>
        <div class="sidebar-footer">
          <div class="api-status-badge">
            <span class="api-status-text">API Desconectada</span>
          </div>
        </div>
      </aside>

      <!-- Main Content -->
      <main class="main-content">
        <div data-menu="management" data-menu-default>
          <header class="main-header">
            <input
              type="search"
              class="search-input"
              placeholder="Pesquisar torrents, links, m√≠dias..."
            />
            <div class="header-right"></div>
          </header>
          <h1 class="section-title">Gerenciamento de M√≠dia</h1>

          <div class="management-view">
            <!-- Left Panel: Queue & History -->
            <div class="panel">
              <div class="quick-actions">
                <input
                  type="text"
                  class="action-input"
                  placeholder="Cole um magnet ou link para desrestringir..."
                />
                <button class="action-button">Analisar e Adicionar</button>
                <button id="sync-torrents-btn" class="action-button secondary">
                  Sincronizar
                </button>
              </div>

              <h2 class="panel-title">Fila & Hist√≥rico</h2>
              <div class="torrent-list">
                <!-- 
                  <div class="torrent-item selected">
                    <div class="name">
                      The.Mandalorian.S03.COMPLETE.1080p.WEB-DL.DDP5.1.x265-NTb
                    </div>
                    <div class="status">Completo - 8 arquivos</div>
                    <div class="file-list">
                      <div class="file-item" draggable="true">
                        üé¨ The.Mandalorian.S03E01.mkv
                      </div>
                      <div class="file-item" draggable="true">
                        üé¨ The.Mandalorian.S03E02.mkv
                      </div>
                      <div class="file-item" draggable="true">
                        üé¨ The.Mandalorian.S03E03.mkv
                      </div>
                      <div class="file-item" draggable="true">... (e mais 5)</div>
                    </div>
                  </div>
                  
                  <div class="torrent-item">
                    <div class="name">
                      John.Wick.Chapter.4.2023.1080p.BluRay.x264-VETOR
                    </div>
                    <div class="status">Baixando (78%)</div>
                  </div>
                  
                  <div class="torrent-item">
                    <div class="name">
                      Dune.Part.Two.2024.IMAX.2160p.WEB-DL.DDP5.1.Atmos.HDR.H.265-FLUX
                    </div>
                    <div class="status">Na fila</div>
                  </div>
                 -->
              </div>
            </div>

            <!-- Right Panel: Organizer -->
            <div class="panel">
              <div class="organizer-content">
                <div class="media-selector">
                  <label class="panel-title" style="border: none; padding: 0"
                    >1. Selecione o Tipo</label
                  >
                  <select id="media-type-select" class="media-select">
                    <option value="series" selected>S√©rie</option>
                    <option value="movies">Filme</option>
                  </select>

                  <label
                    class="panel-title"
                    style="border: none; padding: 0; margin-top: 1rem"
                    >2. Selecione a Cole√ß√£o</label
                  >
                  <select
                    name="media"
                    id="media-select-input"
                    class="media-select"
                  >
                    <option value="new" selected>Cadastrar Nova...</option>
                  </select>
                </div>

                <!-- Organizador de S√âRIES (vis√≠vel por padr√£o) -->
                <div class="organizer-view" id="series-organizer">
                  <div class="media-form" style="margin-top: 1rem">
                    <input
                      type="text"
                      id="series-imdb-id-input"
                      class="action-input"
                      placeholder="IMDb ID da S√©rie (ex: tt0944947)"
                    />
                    <input
                      type="text"
                      id="series-name-input"
                      class="action-input"
                      placeholder="Nome da S√©rie (autom√°tico via IMDb)"
                    />
                    <button id="save-series-btn" class="action-button">
                      Criar S√©rie
                    </button>
                  </div>
                  <ul class="season-list">
                    <li class="season-item">
                      <div class="season-title">Temporada 1</div>
                      <ul class="episode-list">
                        <li class="drop-zone">Arraste o Epis√≥dio 1 aqui</li>
                      </ul>
                    </li>
                  </ul>
                  <div class="add-season-container">
                    <button id="add-season-btn" class="action-button secondary">
                      Adicionar Temporada
                    </button>
                  </div>
                </div>

                <!-- Organizador de FILMES (escondido por padr√£o) -->
                <div
                  class="organizer-view"
                  id="movie-organizer"
                  style="display: none"
                >
                  <div class="media-form" style="margin-top: 1rem">
                    <input
                      type="text"
                      class="action-input"
                      placeholder="Nome da Cole√ß√£o (Ex: Franquia 007)"
                    />
                    <button class="action-button">
                      Criar Cole√ß√£o de Filmes
                    </button>
                  </div>
                  <ul class="episode-list">
                    <li class="drop-zone">Arraste o arquivo do Filme 1 aqui</li>
                  </ul>
                  <div class="add-season-container">
                    <button id="add-movie-btn" class="action-button secondary">
                      Adicionar Filme √† Cole√ß√£o
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Series Page -->
        <div data-menu="series">
          <header class="main-header">
            <input
              type="search"
              class="search-input"
              placeholder="Pesquisar em suas s√©ries..."
            />
            <div class="header-right"></div>
          </header>
          <h1 class="section-title">S√©ries</h1>
          <div class="media-grid">
            <!-- 
            <div class="media-card">
              <img
                src="https://image.tmdb.org/t/p/w400/p31rpgy9qK2tYls4a1Waf2LgS33.jpg"
                alt="The Mandalorian Poster"
              />
              <div class="badge">S√©rie</div>
              <div class="status-icon">‚úì</div>
            </div>
            <div class="media-card">
              <img
                src="https://image.tmdb.org/t/p/w400/vHl21JtrplI1xG32K3y2b2lAha.jpg"
                alt="Dune Poster"
              />
              <div class="badge">Filme</div>
            </div>
            <div class="media-card">
              <img
                src="https://image.tmdb.org/t/p/w400/vpxxx8SIsHcb3Sg2bCj2g57e0u2.jpg"
                alt="John Wick Poster"
              />
              <div class="badge">Filme</div>
              <div class="status-icon">‚úì</div>
            </div>
             -->
          </div>
        </div>

        <!-- Movies Page -->
        <div data-menu="movies">
          <header class="main-header">
            <input
              type="search"
              class="search-input"
              placeholder="Pesquisar em seus filmes..."
            />
            <div class="header-right"></div>
          </header>
          <h1 class="section-title">Filmes</h1>
          <p>P√°gina de filmes em constru√ß√£o.</p>
        </div>

        <!-- Cleanup Page -->
        <div data-menu="cleanup">
          <h1 class="section-title">Limpeza</h1>
          <p>P√°gina de limpeza em constru√ß√£o.</p>
        </div>

        <!-- Settings Page -->
        <div data-menu="settings">
          <h1 class="section-title">Configura√ß√µes</h1>

          <!-- User Info Dashboard -->
          <div class="settings-section">
            <div class="panel-title-with-action">
              <h2 class="panel-title">Painel do Usu√°rio</h2>
              <button id="force-user-check" class="action-button secondary">
                For√ßar Verifica√ß√£o
              </button>
            </div>
            <div class="user-dashboard">
              <div class="user-info-card">
                <div class="user-avatar-container">
                  <!-- Placeholder, a ser preenchido via JS -->
                  <div class="user-profile"></div>
                </div>
                <div class="user-details">
                  <p>
                    <strong>Usu√°rio:</strong>
                    <span id="user-username">--</span>
                  </p>
                  <p>
                    <strong>Tipo de Conta:</strong>
                    <span id="user-type">--</span>
                  </p>
                  <p>
                    <strong>Expira em:</strong>
                    <span id="user-expiration">--</span>
                  </p>
                  <p>
                    <strong>Pontos de Fidelidade:</strong>
                    <span id="user-points">--</span>
                  </p>
                </div>
              </div>
              <div class="traffic-info">
                <h3 class="panel-subtitle">Uso de Tr√°fego por Hoster</h3>
                <div id="traffic-details-grid" class="traffic-grid">
                  <!-- Detalhes do tr√°fego ser√£o inseridos aqui via JS -->
                  <p class="empty-state">
                    Valide sua API para carregar os dados de tr√°fego.
                  </p>
                </div>
              </div>
            </div>
          </div>

          <!-- API Keys Configuration -->
          <div class="settings-section">
            <h2 class="panel-title">Configura√ß√£o de APIs</h2>
            <div class="form-grid">
              <div class="form-group">
                <label for="rd-api-key">API Key do Real-Debrid</label>
                <div class="input-with-status">
                  <input
                    type="password"
                    id="rd-api-key"
                    class="action-input"
                    placeholder="Cole sua API Key aqui"
                    autocomplete="new-password"
                  />
                  <span
                    id="api-status-indicator"
                    class="api-status"
                    title="Status da API"
                  ></span>
                </div>
                <div class="button-group">
                  <button id="save-rd-api-key" class="action-button">
                    Salvar e Validar
                  </button>
                  <button
                    id="remove-rd-api-key"
                    class="action-button secondary"
                  >
                    Remover
                  </button>
                </div>
              </div>
              <div class="form-group">
                <label for="tmdb-api-key">API Key do TMDB (Opcional)</label>
                <input
                  type="text"
                  id="tmdb-api-key"
                  class="action-input"
                  placeholder="Para buscar p√¥steres e metadados"
                  autocomplete="new-password"
                />
                <div class="button-group">
                  <button id="save-tmdb-api-key" class="action-button">
                    Salvar
                  </button>
                  <button
                    id="remove-tmdb-api-key"
                    class="action-button secondary"
                  >
                    Remover
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Data Management -->
          <div class="settings-section">
            <h2 class="panel-title">Gerenciamento de Dados</h2>
            <div class="actions-grid">
              <button id="export-data-btn" class="action-button secondary">
                Exportar Meus Dados
              </button>
              <button id="import-data-btn" class="action-button secondary">
                Importar Backup
              </button>
              <input type="file" id="import-file-input" style="display: none" />
              <button id="clear-data-btn" class="action-button danger">
                Limpar Todos os Dados
              </button>
            </div>
          </div>

          <!-- About Section -->
          <div class="settings-section">
            <h2 class="panel-title">Sobre</h2>
            <p>RD Media Manager <span id="app-version">v0.1.0-alpha</span></p>
            <p>
              Projeto de c√≥digo aberto.
              <a
                href="https://github.com/seu-usuario/seu-repo"
                target="_blank"
                rel="noopener noreferrer"
                >Visite o reposit√≥rio</a
              >.
            </p>
          </div>
        </div>
      </main>
    </div>
    <script type="module" src="src/main.js"></script>
  </body>
</html>
